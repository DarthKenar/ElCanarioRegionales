<div id="categories_table" class="overflow-x-auto">
    <div class="flex flex-col md:flex-row md:justify-center">
        <div class="md:w-1/2 bg-gradient-to-tr from-amber-300 to-amber-100 rounded-md  border-2 p-4 m-8 shadow-slate-600 shadow-sm border-separate border-amber-100">
            <div class="max-w-xs mx-auto flex justify-center items-center space-x-4 bg-gradient-to-tr from-amber-300 to-amber-100 rounded-md  border-2 p-4 m-8 shadow-slate-600 shadow-sm border-separate border-amber-100">
                <label class="text-black font-sans font-bold mx-2" for="category_name_new">Add category:</label>
                {% if article_to_update %}
                    <form hx-post="{% url 'articles:category_create' art_id=article_to_update.id%}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='category_name_new']" class="flex justify-between">
                        <input type="text" class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" name="category_name_new" id="category_name_new">
                        <button  ion-button icon-only type="submit">
                            <ion-icon title="Crear Categoría" class="mx-4 text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer" name="add-circle-outline"></ion-icon>
                        </button>
                    </form>
                {% else %}
                    <form hx-post="{% url 'articles:category_create' %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='category_name_new']" class="flex justify-between">
                        <input type="text" class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" name="category_name_new" id="category_name_new">
                        <button  ion-button icon-only type="submit">
                            <ion-icon title="Crear Categoría" class="mx-4 text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer" name="add-circle-outline"></ion-icon>
                        </button>
                    </form>
                {% endif %}
            </div>

            <!-- Contenido de la primera columna -->
            <!-- Primera columna debe contener una lista de todas las categorías -->
            {% if categories %}

                <table class="mx-auto table-auto font-mono text-red-900  shadow-slate-600 shadow-sm bg-amber-200 border-separate border-2 border-amber-100 rounded-md p-4 m-8">

                    <thead class="p-3 m-3">
                        <tr class="bg-amber-300">
                            <th>Name</th>
                            
                            {% if name_category_edition %}
                            <th>Edit Name</th>
                            {% endif %}
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody class="bg-amber-100">
                    {% for category in categories %}
                        <tr>
                            
                            <td>{{category.name}}</td>
                            {% if name_category_edition %}
                                {% if category_to_update == category %}
                                    
                                    <td>
                                        {% if article_to_update %}
                                            <form class="flex justify-between" hx-post="{% url 'articles:category_update_name' cat_id=category.id art_id=article_to_update.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='category_name_update']">
                                                <input class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" type="text" id="category_name_update" name="category_name_update" value="{{category.name}}">
                                                <button ion-button icon-only type="submit">
                                                    <ion-icon name="save-outline" 
                                                    
                                                    class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                                    ></ion-icon>
                                                </button>
                                            </form>
                                        {% else %}
                                            <form class="flex justify-between" hx-post="{% url 'articles:category_update_name' cat_id=category.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='category_name_update']">
                                                <input class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" type="text" id="category_name_update" name="category_name_update" value="{{category.name}}">
                                                <button ion-button icon-only type="submit">
                                                    <ion-icon name="save-outline" 
                                                    
                                                    class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                                    ></ion-icon>
                                                </button>
                                            </form>
                                        {% endif %}
                                    </td>
                                {% else %}
                                    <td></td>
                                {% endif %}

                            {% endif %}
                            <td class="flex justify-between">
                                {% if article_to_update %}
                                    <form hx-get="{% url 'articles:category_update' external_link="False" cat_id=category.id art_id=article_to_update.id %}" hx-swap="outerHTML" hx-target="#articles_category_value_section" >
                                        <button ion-button icon-only type="submit">
                                            <ion-icon name="create-outline" 
                                            
                                            class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                            ></ion-icon>
                                        </button>
                                    </form>
                                    <form hx-delete="{% url 'articles:category_delete' cat_id=category.id art_id=article_to_update.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-confirm="Are you sure you want to delete the category: {{category.name}}?">
                                        <button type="submit" ion-button icon-only >
                                            <ion-icon name="trash-outline" 
                                                
                                            class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer"
                                            ></ion-icon>
                                        </button>
                                    </form>
                                {% else %}
                                    <form hx-get="{% url 'articles:category_update' external_link="False" cat_id=category.id  %}" hx-swap="outerHTML" hx-target="#articles_category_value_section" >
                                        <button ion-button icon-only type="submit">
                                            <ion-icon name="create-outline" 
                                            
                                            class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                            ></ion-icon>
                                        </button>
                                    </form>
                                    <form hx-delete="{% url 'articles:category_delete' cat_id=category.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-confirm="Are you sure you want to delete the category {{category.name}}?">
                                        <button type="submit" ion-button icon-only >
                                            <ion-icon name="trash-outline" 
                                                
                                            class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer"
                                            ></ion-icon>
                                        </button>
                                    </form>
                                {% endif %}
                            </td>
                        </tr>
                        
                    {% endfor %}
                    </tbody>

                </table>
            
            {% endif %}
        </div>
        
        <div class="md:w-1/2 bg-gradient-to-tr from-amber-300 to-amber-100 rounded-md  border-2 p-4 m-8 shadow-slate-600 shadow-sm border-separate border-amber-100">
            <div>
                <b value="category_to_update.id" class="text-center">{{answer_title_values}}</b>
            </div>
            {% if category_to_update %}
            <div class="max-w-xs mx-auto flex justify-center items-center space-x-4 bg-gradient-to-tr from-amber-300 to-amber-100 rounded-md  border-2 p-4 m-8 shadow-slate-600 shadow-sm border-separate border-amber-100">
                {% if article_to_update %}
                    <form hx-post="{% url 'articles:value_create' cat_id=category_to_update.id art_id=article_to_update.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='value_name_new']" class="flex justify-between">
                        <label class="text-black font-sans font-bold mx-2" for="value_name_new">Add value:</label>
                        <input type="text" class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" name="value_name_new" id="value_name_new">
                        <button  ion-button icon-only type="submit">
                            <ion-icon title="Crear Valor" class="mx-4 text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer" name="add-circle-outline"></ion-icon>
                        </button>
                    </form>
                {% else %}
                    <form hx-post="{% url 'articles:value_create' cat_id=category_to_update.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='value_name_new']" class="flex justify-between">
                        <label class="text-black font-sans font-bold mx-2" for="value_name_new">Add value:</label>
                        <input type="text" class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" name="value_name_new" id="value_name_new">
                        <button  ion-button icon-only type="submit">
                            <ion-icon title="Crear Valor" class="mx-4 text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer" name="add-circle-outline"></ion-icon>
                        </button>
                    </form>
                {% endif %}
            </div>
            {% endif %}
            {% if values %}
            <table class="mx-auto table-auto font-mono text-red-900  shadow-slate-600 shadow-sm bg-amber-200 border-separate border-2 border-amber-100 rounded-md p-4 m-8">
                <thead class="p-3 m-3">
                    <tr class="bg-amber-300">
                        <th>Name</th>
                        {% if name_value_edition %}
                        <th>Edit Name</th>
                        {% endif %}
                        <th>acciones</th>
                    </tr>
                </thead>
                <tbody class="bg-amber-100">
                    {% for value in values %}
                    <tr>
                        <td>{{value.name}}</td>
                        {% if name_value_edition %}
                            {% if value_to_update == value %}
                                
                                <td>
                                    {% if article_to_update %}
                                        <form class="flex justify-between" hx-post="{% url 'articles:value_update_name' val_id=value.id art_id=article_to_update.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='value_name_update']">
                                            <input class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" type="text" id="value_name_update" name="value_name_update" value="{{value.name}}">
                                            <button ion-button icon-only type="submit">
                                                <ion-icon name="save-outline" 
                                                
                                                class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                                ></ion-icon>
                                            </button>
                                        </form>
                                    {% else %}
                                        <form class="flex justify-between" hx-post="{% url 'articles:value_update_name' val_id=value.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-include="[name='value_name_update']">
                                            <input class="w-full mr-2 bg-amber-50 rounded-sm px-2 mx-2" type="text" id="value_name_update" name="value_name_update" value="{{value.name}}">
                                            <button ion-button icon-only type="submit">
                                                <ion-icon name="save-outline" 
                                                
                                                class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                                ></ion-icon>
                                            </button>
                                        </form>
                                    {% endif %}
                                </td>
                            {% else %}
                                <td></td>
                            {% endif %}

                        {% endif %} 
                        <td class="flex justify-between">
                            {% if article_to_update %}
                                <form hx-get="{% url 'articles:value_update' cat_id=category_to_update.id val_id=value.id art_id=article_to_update.id %}" hx-swap="outerHTML" hx-target="#articles_category_value_section" >
                                    <button ion-button icon-only type="submit">
                                        <ion-icon name="create-outline" 
                                        
                                        class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                        ></ion-icon>
                                    </button>
                                </form>
                                <form hx-delete="{% url 'articles:value_delete' cat_id=category_to_update.id val_id=value.id art_id=article_to_update.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-confirm="Are you sure you want to delete the value {{value.name}}?">
                                    <button type="submit" ion-button icon-only >
                                        <ion-icon name="trash-outline" 
                                            
                                        class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer"
                                        ></ion-icon>
                                    </button>
                                </form>
                            {% else %}
                                <form hx-get="{% url 'articles:value_update' cat_id=category_to_update.id val_id=value.id %}" hx-swap="outerHTML" hx-target="#articles_category_value_section" >
                                    <button ion-button icon-only type="submit">
                                        <ion-icon name="create-outline" 
                                        
                                        class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer mr-2"
                                        ></ion-icon>
                                    </button>
                                </form>
                                <form hx-delete="{% url 'articles:value_delete' cat_id=category_to_update.id val_id=value.id %}" hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}' hx-swap="outerHTML" hx-target="#articles_category_value_section" hx-confirm="Are you sure you want to delete the value {{value.name}}?">
                                    <button type="submit" ion-button icon-only >
                                        <ion-icon name="trash-outline" 
                                            
                                        class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer"
                                        ></ion-icon>
                                    </button>
                                </form>
                            {% endif %}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% endif %}
        </div>
    </div>
</div>
{% include 'articles_table.html' %}