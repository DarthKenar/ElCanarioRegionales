<form id="form_create">
    {% load widget_tweaks %}
    {% load custom_filters %}
    {% load custom_tags %}
    {% csrf_token %}
    {% if 'customers' in request.path %}
        {% hx_post_create_customers_render_field "False" as hx_post %}
    {% elif 'orders' in request.path %}
        {% hx_post_create_orders_render_field "False" as hx_post %}
    {% endif %}
    {% trigger_input as hxtrigger%}
    {% for field in form %}
        <div class="p-4 m-4">
            <label for="id_{{field.label|lower|replace_spaces_with_underscore}}" class="italic px-2">{{field.label}}</label>
            {% render_field field|attr:hx_post|attr:"hx-swap=outerHTML"|attr:"hx-target=#form_create"|add_class:"input" %}
            {% for error in field.errors %}
                <p class="italic font-bold empty:hidden cursor-default text-red-600 appear">{{error}}</p>
            {% endfor %}
        </div>
    {% endfor %}
    <div class="grid place-content-end">
        {% if 'customers' in request.path %}
            <button ion-button icon-only type="submit" hx-post="{% url 'customers:create' status='True' %}" hx-swap="outerHTML" hx-trigger="click" hx-target="#form_create" class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer">
                <ion-icon name="save-outline"></ion-icon>
            </button>
        {% elif 'orders' in request.path %}
            <button ion-button icon-only type="submit" hx-post="{% url 'orders:create' status='True' %}" hx-swap="outerHTML" hx-trigger="click" hx-target="#form_create" class="text-amber-50 rounded-tl-lg rounded-br-lg bg-gradient-to-tr from-red-900 to-red-700 px-4 py-2 shadow-md shadow-slate-800 transition hover:-translate-y-0.5 duration-300 hover:shadow-xl hover:shadow-slate-400 cursor-pointer">
                <ion-icon name="save-outline"></ion-icon>
            </button>
        {% endif %}

    </div>
    {% if 'correct' in request.GET %}
        <p class="font-bold empty:hidden cursor-default appear text-green-600 vanish">Saved correctly</p>
    {% elif 'incorrect' in  request.GET %}
        <p class="italic font-bold empty:hidden cursor-default text-red-600 appear">Check all fields</p>
    {% endif %}
</form>