{% extends 'base.html' %}
{% load custom_tags %}
{% block title %}
    <title>Settings - El Canario Regionales</title>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.2/min/dropzone.min.js"></script>
    <script>
        Dropzone.autoDiscover = false;

        $(document).ready(function() {
            $("#profile-picture-dropzone").dropzone({
                url: "{% url 'settings:upload_profile_picture' %}",
                maxFilesize: 200, // Tamaño máximo en MB
                paramName: "profile_picture", // Nombre del campo en el formulario
                acceptedFiles: "image/*", // Acepta solo archivos de imagen
                init: function() {
                    this.on("success", function(file, response) {
                        // Lógica después de cargar la imagen
                    });
                }
            });
        });
    </script> -->
{% endblock title %}
{% block content %}
    {% include 'menu.html' %}

    <h1>ESTAS EN SETTINGS</h1>

    {% include 'upload_image_profile_form.html' %}  
 
    {% include 'footer.html' %} 
    <script>
        // Muestra una imagen previa de la foto a cargar.
        document.getElementById('profile_picture').addEventListener('change', function () {
            const fileInput = this;
            const imagePreview = document.getElementById('image-preview');
        
            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();
        
                reader.onload = function (e) {
                    imagePreview.src = e.target.result;
                    imagePreview.style.display = 'block';
                };
        
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                imagePreview.style.display = 'none';
            }
        });
    </script>
{% endblock content %}
