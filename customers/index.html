
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../articles/">
      
      
        <link rel="next" href="../orders/">
      
      
      <link rel="icon" href="../images/logo-light-48x48.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.7">
    
    
      
        <title>Customers - El Canario Regionales</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#customers" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="El Canario Regionales" class="md-header__button md-logo" aria-label="El Canario Regionales" data-md-component="logo">
      
  <img src="../assets/logo-light.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            El Canario Regionales
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Customers
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/DarthKenar/ElCanarioRegionales" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="El Canario Regionales" class="md-nav__button md-logo" aria-label="El Canario Regionales" data-md-component="logo">
      
  <img src="../assets/logo-light.png" alt="logo">

    </a>
    El Canario Regionales
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DarthKenar/ElCanarioRegionales" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../articles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Articles
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Customers
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Customers
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    CREATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateView" class="md-nav__link">
    CustomerCreateView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateView.form_valid" class="md-nav__link">
    form_valid()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateView.get_success_url" class="md-nav__link">
    get_success_url()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateTemplate" class="md-nav__link">
    CustomerCreateTemplate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    READ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerListView" class="md-nav__link">
    CustomerListView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.ReadDataListView" class="md-nav__link">
    ReadDataListView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.ReadDataTypeListView" class="md-nav__link">
    ReadDataTypeListView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    UPDATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateView" class="md-nav__link">
    CustomerUpdateView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateView.form_valid" class="md-nav__link">
    form_valid()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateView.get_success_url" class="md-nav__link">
    get_success_url()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateTemplate" class="md-nav__link">
    CustomerUpdateTemplate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    DELETE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.customer_delete" class="md-nav__link">
    customer_delete
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../orders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Orders
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create" class="md-nav__link">
    CREATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateView" class="md-nav__link">
    CustomerCreateView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateView.form_valid" class="md-nav__link">
    form_valid()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateView.get_success_url" class="md-nav__link">
    get_success_url()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerCreateTemplate" class="md-nav__link">
    CustomerCreateTemplate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    READ
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerListView" class="md-nav__link">
    CustomerListView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.ReadDataListView" class="md-nav__link">
    ReadDataListView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.ReadDataTypeListView" class="md-nav__link">
    ReadDataTypeListView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#update" class="md-nav__link">
    UPDATE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateView" class="md-nav__link">
    CustomerUpdateView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateView.form_valid" class="md-nav__link">
    form_valid()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateView.get_success_url" class="md-nav__link">
    get_success_url()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.CustomerUpdateTemplate" class="md-nav__link">
    CustomerUpdateTemplate
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#delete" class="md-nav__link">
    DELETE
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#elCanario.customers.views.customer_delete" class="md-nav__link">
    customer_delete
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="customers"><em>CUSTOMERS</em></h1>
<h2 id="create">CREATE</h2>
<ul>
<li>CustomerCreateView</li>
</ul>


<div class="doc doc-object doc-class">



<a id="elCanario.customers.views.CustomerCreateView"></a>
  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="django.contrib.auth.mixins.LoginRequiredMixin">LoginRequiredMixin</span></code>, <code><span title="django.views.generic.edit.CreateView">CreateView</span></code></p>

  
      <p>Redirects the user to create an Customer in case you use the GET method, if you use the POST method it is assumed that you are already in the form checking the fields and saving the customer if possible.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>LoginRequiredMixin</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Allow access to the view for registered users only.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>CreateView</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>CreateView Generic</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>GET: Redirects to the creation form
POST: A portion of the html is replaced using htmx</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>elCanario\customers\views.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerCreateView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">CreateView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Redirects the user to create an Customer in case you use the GET method, if you use the POST method it is assumed that you are already in the form checking the fields and saving the customer if possible.</span>

<span class="sd">    Args:</span>
<span class="sd">        LoginRequiredMixin: Allow access to the view for registered users only.</span>
<span class="sd">        CreateView: CreateView Generic</span>

<span class="sd">    Returns:</span>
<span class="sd">        HttpResponse: </span>
<span class="sd">            GET: Redirects to the creation form</span>
<span class="sd">            POST: A portion of the html is replaced using htmx  </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Customer</span>
    <span class="n">form_class</span> <span class="o">=</span> <span class="n">CustomerForm</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;customers_create.html&#39;</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">HttpRequest</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="s2">&quot;create_form.html&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">form_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">:</span> <span class="n">BaseModelForm</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;If the form is valid a message type object will be created to display in the LOG.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="n">dni</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span>
        <span class="n">phone_number</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;phone_number&#39;</span><span class="p">]</span>
        <span class="n">address</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">MessageLog</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CUSTOMER CREATED - Name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Dni: </span><span class="si">{</span><span class="n">dni</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Phone number: </span><span class="si">{</span><span class="n">phone_number</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Addres: </span><span class="si">{</span><span class="n">address</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Email</span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
        <span class="n">message</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_success_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">                HttpResponse: A part of the html is replaced with htmx replacing the old form with a new empty one.</span>
<span class="sd">                Success is added to the response to display a success message to the user if this word exists in the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">&#39;customers:create_htmx&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;?success&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h2 id="elCanario.customers.views.CustomerCreateView.form_valid" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>If the form is valid a message type object will be created to display in the LOG.</p>

          <details class="quote">
            <summary>Source code in <code>elCanario\customers\views.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">form_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">:</span> <span class="n">BaseModelForm</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;If the form is valid a message type object will be created to display in the LOG.&quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
    <span class="n">dni</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span>
    <span class="n">phone_number</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;phone_number&#39;</span><span class="p">]</span>
    <span class="n">address</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">MessageLog</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CUSTOMER CREATED - Name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Dni: </span><span class="si">{</span><span class="n">dni</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Phone number: </span><span class="si">{</span><span class="n">phone_number</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Addres: </span><span class="si">{</span><span class="n">address</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Email</span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="n">message</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="elCanario.customers.views.CustomerCreateView.get_success_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_success_url</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A part of the html is replaced with htmx replacing the old form with a new empty one.</p>
            </div>
          </td>
        </tr>
        <tr>
<td></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Success is added to the response to display a success message to the user if this word exists in the response.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>elCanario\customers\views.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_success_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">            HttpResponse: A part of the html is replaced with htmx replacing the old form with a new empty one.</span>
<span class="sd">            Success is added to the response to display a success message to the user if this word exists in the response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">&#39;customers:create_htmx&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;?success&#39;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div><ul>
<li>CustomerCreateTemplate</li>
</ul>


<div class="doc doc-object doc-class">



<a id="elCanario.customers.views.CustomerCreateTemplate"></a>
  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="django.contrib.auth.mixins.LoginRequiredMixin">LoginRequiredMixin</span></code>, <code><span title="django.views.generic.TemplateView">TemplateView</span></code></p>

  
      <p>View that is used only when the CustomerCreateView creation form was successful. This view is the one used to replace one part of the html with another using htmx.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>LoginRequiredMixin</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Allow access to the view for registered users only.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>TemplateView</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>TemplateView Generic</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A part of the html is replaced with htmx replacing the old form with a new empty one.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>elCanario\customers\views.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerCreateTemplate</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span><span class="n">TemplateView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;View that is used only when the CustomerCreateView creation form was successful. This view is the one used to replace one part of the html with another using htmx.</span>

<span class="sd">    Args:</span>
<span class="sd">        LoginRequiredMixin: Allow access to the view for registered users only.</span>
<span class="sd">        TemplateView: TemplateView Generic</span>

<span class="sd">    Returns:</span>
<span class="sd">            HttpResponse: A part of the html is replaced with htmx replacing the old form with a new empty one.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;create_form.html&#39;</span>

    <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">CustomerForm</span><span class="p">()</span>
        <span class="n">context</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">form</span>
        <span class="k">return</span> <span class="n">context</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h2 id="read">READ</h2>
<ul>
<li>CustomerListView</li>
</ul>


<div class="doc doc-object doc-class">



<a id="elCanario.customers.views.CustomerListView"></a>
  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="django.contrib.auth.mixins.LoginRequiredMixin">LoginRequiredMixin</span></code>, <code><span title="django.views.generic.list.ListView">ListView</span></code></p>

  
      <p>List all existing customers</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>LoginRequiredMixin</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Allow access to the view for registered users only.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>ListView</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>ListView Generic</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>/read</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>elCanario\customers\views.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerListView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">ListView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List all existing customers</span>

<span class="sd">    Args:</span>
<span class="sd">        LoginRequiredMixin: Allow access to the view for registered users only.</span>
<span class="sd">        ListView: ListView Generic</span>

<span class="sd">    Returns:</span>
<span class="sd">        HttpResponse: /read</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Customer</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;customers.html&#39;</span>

    <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">context</span><span class="p">[</span><span class="s1">&#39;datatype_input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;name&#39;</span>
        <span class="n">context</span><span class="p">[</span><span class="s2">&quot;datatype&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s1">&#39;Name&#39;</span><span class="p">)</span>
        <span class="n">context</span><span class="p">[</span><span class="s2">&quot;answer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;Customers in Database&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">context</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><ul>
<li>ReadDataListView</li>
</ul>


<div class="doc doc-object doc-class">



<a id="elCanario.customers.views.ReadDataListView"></a>
  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="django.contrib.auth.mixins.LoginRequiredMixin">LoginRequiredMixin</span></code>, <code><span title="django.views.generic.list.ListView">ListView</span></code></p>

  
      <p>Lists all existing cutomers that match the specific value entered/selected (Data).
For example: Assuming that the Cutomer Model has a "Name" attribute
DataType: Name
Data: James</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>LoginRequiredMixin</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Allow access to the view for registered users only.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>ListView</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>ListView Generic</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>/read_data</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>elCanario\customers\views.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ReadDataListView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">ListView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lists all existing cutomers that match the specific value entered/selected (Data).</span>
<span class="sd">    For example: Assuming that the Cutomer Model has a &quot;Name&quot; attribute</span>
<span class="sd">    DataType: Name</span>
<span class="sd">    Data: James</span>

<span class="sd">    Args:</span>
<span class="sd">        LoginRequiredMixin: Allow access to the view for registered users only.</span>
<span class="sd">        ListView: ListView Generic</span>

<span class="sd">    Returns:</span>
<span class="sd">        HttpResponse: /read_data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;customers_search_data.html&#39;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Customer</span>

    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">QuerySet</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
        <span class="n">search_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">[</span><span class="s2">&quot;search_input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">datatype_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">[</span><span class="s2">&quot;datatype_input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">get_customers_for_search_input</span><span class="p">(</span><span class="n">datatype_input</span><span class="p">,</span> <span class="n">search_input</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">context</span> <span class="o">=</span>  <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">search_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">[</span><span class="s2">&quot;search_input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">datatype_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">[</span><span class="s2">&quot;datatype_input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">context</span><span class="p">[</span><span class="s2">&quot;search_input&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">search_input</span>
        <span class="n">context</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">get_context_for_search_input_in_customers_section</span><span class="p">(</span><span class="n">datatype_input</span><span class="p">,</span><span class="n">search_input</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">context</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><ul>
<li>ReadDataTypeListView</li>
</ul>


<div class="doc doc-object doc-class">



<a id="elCanario.customers.views.ReadDataTypeListView"></a>
  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="django.contrib.auth.mixins.LoginRequiredMixin">LoginRequiredMixin</span></code>, <code><span title="django.views.generic.list.ListView">ListView</span></code></p>

  
      <p>Lists all existing Customer that match the selected Data Type, corresponding attribute of the Customer model.
For example: Assuming that the Customer model has an attribute "Name"
Data Type: Name
Data: ...</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>LoginRequiredMixin</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Allow access to the view only to registered users.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>ListView</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Generic ListView</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>/read_datatype</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>elCanario\customers\views.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span>
<span class="normal">97</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">ReadDataTypeListView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">ListView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Lists all existing Customer that match the selected Data Type, corresponding attribute of the Customer model.</span>
<span class="sd">    For example: Assuming that the Customer model has an attribute &quot;Name&quot;</span>
<span class="sd">    Data Type: Name</span>
<span class="sd">    Data: ...</span>

<span class="sd">    Args:</span>
<span class="sd">        LoginRequiredMixin: Allow access to the view only to registered users.</span>
<span class="sd">        ListView: Generic ListView</span>

<span class="sd">    Returns:</span>
<span class="sd">        HttpResponse: /read_datatype</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Customer</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s1">&#39;customers_search_datatype.html&#39;</span>

    <span class="k">def</span> <span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">datatype_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">[</span><span class="s2">&quot;datatype_input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">get_customers_for_search_input</span><span class="p">(</span><span class="n">datatype_input</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">datatype_input</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="p">[</span><span class="s2">&quot;datatype_input&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">context</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">get_context_for_datatype_input_in_customers_section</span><span class="p">(</span><span class="n">datatype_input</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">context</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h2 id="update">UPDATE</h2>
<ul>
<li>CustomerUpdateView</li>
</ul>


<div class="doc doc-object doc-class">



<a id="elCanario.customers.views.CustomerUpdateView"></a>
  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="django.contrib.auth.mixins.LoginRequiredMixin">LoginRequiredMixin</span></code>, <code><span title="django.views.generic.edit.UpdateView">UpdateView</span></code></p>

  
      <p>Redirects the user to update an Customer in case you use the GET method, if you use the POST method it is assumed that you are already in the form checking the fields and updating the customer if possible.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>LoginRequiredMixin</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Allow access to the view for registered users only.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>UpdateView</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>UpdateView Generic</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>GET: Redirects to the updating form
POST: A portion of the html is replaced using htmx</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>elCanario\customers\views.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerUpdateView</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">UpdateView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Redirects the user to update an Customer in case you use the GET method, if you use the POST method it is assumed that you are already in the form checking the fields and updating the customer if possible.</span>

<span class="sd">    Args:</span>
<span class="sd">        LoginRequiredMixin: Allow access to the view for registered users only.</span>
<span class="sd">        UpdateView: UpdateView Generic</span>

<span class="sd">    Returns:</span>
<span class="sd">        HttpResponse: </span>
<span class="sd">            GET: Redirects to the updating form</span>
<span class="sd">            POST: A portion of the html is replaced using htmx  </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">model</span> <span class="o">=</span> <span class="n">Customer</span>
    <span class="n">form_class</span> <span class="o">=</span> <span class="n">CustomerForm</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s2">&quot;customers_update.html&quot;</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">HttpRequest</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">template_name</span> <span class="o">=</span> <span class="s2">&quot;update_form.html&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">form_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">:</span> <span class="n">BaseModelForm</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;If the form is valid a message type object will be created to display in the LOG.&quot;&quot;&quot;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="n">dni</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span>
        <span class="n">phone_number</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;phone_number&#39;</span><span class="p">]</span>
        <span class="n">address</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span>
        <span class="n">email</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">MessageLog</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CUSTOMER UPDATED - Name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Dni: </span><span class="si">{</span><span class="n">dni</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Phone number: </span><span class="si">{</span><span class="n">phone_number</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Addres: </span><span class="si">{</span><span class="n">address</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Email</span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
        <span class="n">message</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span> <span class="c1">#Esto hace que se guarde.</span>

    <span class="k">def</span> <span class="nf">get_success_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns:</span>
<span class="sd">                HttpResponse: A part of the html is replaced with htmx replacing the old form with a new empty one.</span>
<span class="sd">                Success is added to the response to display a success message to the user if this word exists in the response.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">&#39;customers:update_htmx&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;?success&#39;</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">










<div class="doc doc-object doc-function">




<h2 id="elCanario.customers.views.CustomerUpdateView.form_valid" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span></code>

</h2>


  <div class="doc doc-contents ">
  
      <p>If the form is valid a message type object will be created to display in the LOG.</p>

          <details class="quote">
            <summary>Source code in <code>elCanario\customers\views.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">form_valid</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">:</span> <span class="n">BaseModelForm</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;If the form is valid a message type object will be created to display in the LOG.&quot;&quot;&quot;</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
    <span class="n">dni</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;dni&#39;</span><span class="p">]</span>
    <span class="n">phone_number</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;phone_number&#39;</span><span class="p">]</span>
    <span class="n">address</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;address&#39;</span><span class="p">]</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;email&#39;</span><span class="p">]</span>
    <span class="n">message</span> <span class="o">=</span> <span class="n">MessageLog</span><span class="p">(</span><span class="n">info</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CUSTOMER UPDATED - Name: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Dni: </span><span class="si">{</span><span class="n">dni</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Phone number: </span><span class="si">{</span><span class="n">phone_number</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Addres: </span><span class="si">{</span><span class="n">address</span><span class="si">}</span><span class="s2">,</span><span class="se">\n</span><span class="s2"> Email</span><span class="si">{</span><span class="n">email</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="n">message</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">form_valid</span><span class="p">(</span><span class="n">form</span><span class="p">)</span> <span class="c1">#Esto hace que se guarde.</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>


<div class="doc doc-object doc-function">




<h2 id="elCanario.customers.views.CustomerUpdateView.get_success_url" class="doc doc-heading">
          <code class="highlight language-python"><span class="n">get_success_url</span><span class="p">()</span></code>

</h2>


  <div class="doc doc-contents ">
  



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A part of the html is replaced with htmx replacing the old form with a new empty one.</p>
            </div>
          </td>
        </tr>
        <tr>
<td></td>          <td>
                <code>str</code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Success is added to the response to display a success message to the user if this word exists in the response.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>elCanario\customers\views.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_success_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Returns:</span>
<span class="sd">            HttpResponse: A part of the html is replaced with htmx replacing the old form with a new empty one.</span>
<span class="sd">            Success is added to the response to display a success message to the user if this word exists in the response.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">reverse_lazy</span><span class="p">(</span><span class="s1">&#39;customers:update_htmx&#39;</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">object</span><span class="o">.</span><span class="n">id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;?success&#39;</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>



  </div>

  </div>

</div><ul>
<li>CustomerUpdateTemplate</li>
</ul>


<div class="doc doc-object doc-class">



<a id="elCanario.customers.views.CustomerUpdateTemplate"></a>
  <div class="doc doc-contents first">
          <p class="doc doc-class-bases">
            Bases: <code><span title="django.contrib.auth.mixins.LoginRequiredMixin">LoginRequiredMixin</span></code>, <code><span title="django.views.generic.TemplateView">TemplateView</span></code></p>

  
      <p>View that is used only when the CustomerUpdateView update form is successful. This view is the one used to replace one part of the html with another using htmx.</p>



  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>LoginRequiredMixin</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>Allows access to the view only to registered users.</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>TemplateView</code></td>
          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>TemplateView Generic</p>
            </div>
          </td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
          </td>
          <td>
            <div class="doc-md-description">
              <p>A part of the html is replaced by htmx replacing the old form by a new one containing the same data of the old form.</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

            <details class="quote">
              <summary>Source code in <code>elCanario\customers\views.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span> <span class="nc">CustomerUpdateTemplate</span><span class="p">(</span><span class="n">LoginRequiredMixin</span><span class="p">,</span> <span class="n">TemplateView</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;View that is used only when the CustomerUpdateView update form is successful. This view is the one used to replace one part of the html with another using htmx.</span>

<span class="sd">    Args:</span>
<span class="sd">        LoginRequiredMixin: Allows access to the view only to registered users.</span>
<span class="sd">        TemplateView: TemplateView Generic</span>

<span class="sd">    Returns:</span>
<span class="sd">            HttpResponse: A part of the html is replaced by htmx replacing the old form by a new one containing the same data of the old form.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">template_name</span> <span class="o">=</span> <span class="s2">&quot;update_form.html&quot;</span>

    <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="n">objeto_id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;pk&#39;</span><span class="p">)</span>
        <span class="nb">object</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span><span class="nb">id</span><span class="o">=</span><span class="n">objeto_id</span><span class="p">)</span>
        <span class="n">context</span><span class="p">[</span><span class="s1">&#39;object&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">object</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">CustomerForm</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span> 
        <span class="n">context</span><span class="p">[</span><span class="s1">&#39;form&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">form</span>
        <span class="k">return</span> <span class="n">context</span>
</code></pre></div></td></tr></table></div>
            </details>

  

  <div class="doc doc-children">











  </div>

  </div>

</div><h2 id="delete">DELETE</h2>
<ul>
<li>customer_delete</li>
</ul>



<div class="doc doc-object doc-function">



<a id="elCanario.customers.views.customer_delete"></a>
  <div class="doc doc-contents first">
  
      <p>View used for the deletion of an object of type Customer. An object of type Messagge log is created when the object is successfully deleted.
- Has crsf protection.
- Login required.
Args:
    request (object): request
    pk (int): Identifier of the customer to be deleted.</p>



  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
<th>Name</th>        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
<td><code>HttpResponse</code></td>          <td>
                <code><span title="django.http.HttpResponse">HttpResponse</span></code>
          </td>
          <td>
            <div class="doc-md-description">
              <p>returns the list of all customers in context</p>
            </div>
          </td>
        </tr>
    </tbody>
  </table>

          <details class="quote">
            <summary>Source code in <code>elCanario\customers\views.py</code></summary>
            <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@csrf_protect</span>
<span class="k">def</span> <span class="nf">customer_delete</span><span class="p">(</span><span class="n">request</span><span class="p">:</span><span class="nb">object</span><span class="p">,</span> <span class="n">pk</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span><span class="o">-&gt;</span> <span class="n">HttpResponse</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;View used for the deletion of an object of type Customer. An object of type Messagge log is created when the object is successfully deleted.</span>
<span class="sd">    - Has crsf protection.</span>
<span class="sd">    - Login required.</span>
<span class="sd">    Args:</span>
<span class="sd">        request (object): request</span>
<span class="sd">        pk (int): Identifier of the customer to be deleted.</span>

<span class="sd">    Returns:</span>
<span class="sd">        HttpResponse: returns the list of all customers in context</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">template</span> <span class="o">=</span> <span class="s1">&#39;customers_search_data.html&#39;</span>
    <span class="n">context</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">customer</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Customer</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">context</span><span class="p">[</span><span class="s2">&quot;delete_answer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">&quot;The selected item could not be deleted because it does not exist. Contact support.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">render_login_required</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">context</span><span class="p">[</span><span class="s2">&quot;delete_answer&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Customer </span><span class="si">{</span><span class="n">customer</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> has been eliminated&quot;</span><span class="p">)</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">MessageLog</span><span class="p">(</span><span class="n">info</span><span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;CUSTOMER DELETED - Name: </span><span class="si">{</span><span class="n">customer</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">))</span>
        <span class="n">message</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="n">customer</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
        <span class="n">customers</span> <span class="o">=</span> <span class="n">Customer</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">context</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;object_list&quot;</span><span class="p">:</span> <span class="n">customers</span><span class="p">})</span>
        <span class="k">return</span> <span class="n">render_login_required</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
          </details>
  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>